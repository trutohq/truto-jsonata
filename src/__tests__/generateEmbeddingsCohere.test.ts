import { describe, it, expect, beforeEach } from 'vitest'
import generateEmbeddingsCohere from '../functions/generateEmbeddingsCohere'

describe('generateEmbeddingsCohere', async () => {
  beforeEach(() => {
    fetchMock.mockReset()
  })
  it('should return the embeddings', async () => {
    fetchMock.mockResponseOnce(
      JSON.stringify({
        id: 'c7fdd028-d967-456a-9765-be47a7959f7e',
        texts: ['A', 'B'],
        embeddings: {
          float: [
            [
              -0.0071640015, -0.016845703, -0.015525818, 0.040985107,
              -0.010681152, 0.00089359283, 0.027786255, -0.016708374,
              -0.0413208, -0.0020961761, 0.005332947, -0.09069824, 0.040374756,
              0.002199173, -0.0015296936, -0.0068588257, 0.0063591003,
              -0.010231018, 0.00258255, 0.0009660721, -0.011947632, 0.02394104,
              0.03756714, 0.0011882782, 0.0052719116, 0.051757812, 0.038024902,
              -0.043884277, 0.05166626, -0.016860962, -0.0037670135,
              -0.030807495, 0.03390503, 0.0748291, -0.020767212, 0.015266418,
              0.030776978, 0.0010662079, 0.0044288635, 0.008773804,
              0.0085372925, -0.0030117035, -0.00059366226, 0.031433105,
              -0.04751587, 0.010398865, 0.0038471222, 0.012214661, 0.051116943,
              0.022460938, 0.011657715, -0.03778076, 0.0019683838, 0.011764526,
              0.053100586, -0.016525269, 0.033447266, -0.0064315796,
              0.047424316, 0.0061569214, -0.02432251, -0.04748535, -0.015914917,
              -0.009902954, 0.009841919, 0.0075569153, 0.04824829, 0.024734497,
              0.020706177, 0.018951416, 0.0093688965, 0.05078125, 0.04498291,
              -0.00091362, 0.006439209, -0.008163452, -0.009063721,
              0.0053482056, 0.007472992, 0.03970337, 0.0050086975, 0.03543091,
              0.06994629, 0.026000977, 0.036499023, 0.00009906292, 0.0010433197,
              0.02255249, 0.00070762634, -0.023406982, 0.01033783, 0.011711121,
              0.046173096, 0.052947998, 0.009269714, -0.017913818, 0.022735596,
              -0.0118255615, -0.015617371, -0.056671143, 0.00178051,
              -0.031280518, 0.014923096, 0.040618896, 0.013298035, 0.0017080307,
              0.0033988953, -0.018035889, -0.03857422, 0.022628784,
              -0.0013904572, 0.041778564, 0.01979065, -0.024459839,
              -0.027709961, -0.019577026, 0.005466461, -0.0027751923,
              -0.01638794, -0.016204834, -0.023147583, 0.025680542,
              -0.017684937, -0.034088135, -0.027297974, -0.001742363, 0.0211792,
              -0.004699707, -0.059020996, -0.014259338, -0.03074646,
              -0.010612488, 0.000049352646, 0.0061836243, 0.018875122,
              0.021560669, -0.047027588, -0.047607422, 0.029556274, 0.028533936,
              -0.0152282715, 0.039642334, -0.042907715, 0.0039253235,
              -0.03201294, -0.011482239, 0.0027046204, 0.003917694,
              -0.016418457, -0.07086182, 0.045898438, 0.03189087, 0.025497437,
              -0.056274414, -0.01675415, 0.0060768127, 0.05340576, -0.009223938,
              0.0061683655, -0.035125732, 0.036010742, -0.026733398,
              0.011711121, -0.006389618, -0.00011950731, -0.049835205,
              0.044921875, -0.0069847107, 0.003074646, 0.059020996, 0.03314209,
              -0.047454834, -0.014671326, -0.019485474, 0.0030822754,
              -0.031677246, -0.020858765, 0.061157227, 0.073791504,
              -0.040924072, 0.05026245, -0.0019207001, 0.048583984, 0.07067871,
              0.064697266, -0.00655365, -0.036346436, 0.017074585, 0.017059326,
              0.031677246, -0.024520874, -0.026275635, -0.025009155,
              -0.0121536255, -0.03302002, 0.03289795, 0.051605225, -0.06530762,
              -0.004699707, 0.089782715, -0.000497818, 0.0017051697,
              0.022140503, 0.023010254, -0.012168884, 0.007774353, 0.028121948,
              0.017837524, -0.038391113, 0.041107178, -0.009460449,
              -0.004032135, 0.050231934, 0.013877869, 0.006378174, -0.030075073,
              0.029190063, -0.031982422, 0.013648987, 0.012680054, 0.052337646,
              -0.011940002, 0.010307312, 0.03543091, 0.018920898, -0.038085938,
              0.009437561, -0.01146698, -0.013946533, -0.003446579, 0.014770508,
              -0.0062065125, 0.042633057, -0.0065689087, 0.0335083, 0.02973938,
              -0.031036377, -0.05670166, -0.030639648, -0.017303467,
              0.028396606, 0.04324341, -0.02267456, -0.002090454, 0.04437256,
              -0.011138916, 0.0065689087, -0.005958557, 0.06536865,
              -0.020812988, 0.024215698, 0.046051025, -0.029205322, 0.040222168,
              0.032806396, -0.0069885254, 0.031463623, 0.035583496,
              0.00019979477, 0.010787964, -0.031799316, -0.038085938,
              0.006313324, 0.00042772293, -0.015625, -0.004878998, 0.0031204224,
              0.034332275, 0.030792236, 0.010467529, -0.0062828064, 0.015975952,
              -0.02067566, 0.04083252, 0.014808655, 0.054138184, -0.04147339,
              0.032928467, -0.019088745, 0.05444336, 0.034942627, 0.014541626,
              -0.019805908, -0.0112838745, -0.07385254, 0.010765076,
              0.010322571, 0.007873535, -0.037078857, 0.0055007935, 0.010887146,
              -0.055603027, -0.013465881, 0.0010442734, -0.0051574707,
              -0.0065574646, 0.019622803, -0.04055786, -0.01838684, 0.050689697,
              -0.0103302, 0.034423828, 0.04260254, -0.015098572, 0.037597656,
              0.009422302, -0.02168274, 0.024917603, 0.04348755, -0.048095703,
              -0.0019435883, -0.007949829, 0.000108003616, 0.0005660057,
              -0.020355225, 0.012145996, -0.024963379, -0.025772095,
              -0.0069351196, 0.022766113, -0.008178711, -0.025665283,
              0.0041656494, -0.002603531, -0.00047779083, 0.0029582977,
              -0.024627686, -0.03363037, -0.00045084953, 0.022338867,
              0.0070381165, 0.04360962, 0.026306152, 0.021972656, 0.021835327,
              0.008201599, 0.011444092, 0.010444641, 0.037261963, -0.041656494,
              -0.03201294, -0.014884949, 0.0016021729, 0.004142761, 0.029312134,
              -0.039276123, 0.007827759, -0.018447876, 0.0061531067,
              -0.009544373, -0.015617371, 0.017593384, 0.024642944, 0.01109314,
              0.06021118, -0.054504395, 0.033996582, -0.044799805, 0.007873535,
              -0.031951904, 0.031585693, -0.049591064, -0.014953613,
              0.039978027, 0.027389526, 0.049682617, -0.007972717, 0.035705566,
              -0.027145386, 0.020202637, 0.013587952, 0.014038086, 0.013038635,
              0.029296875, -0.052459717, 0.037078857, -0.03894043, 0.04525757,
              0.009300232, -0.009971619, -0.06549072, 0.0047187805, 0.025039673,
              0.05319214, 0.0077934265, 0.004623413, 0.0127334595, -0.011352539,
              -0.016098022, 0.031021118, 0.06982422, -0.0031776428, 0.052825928,
              -0.026397705, -0.0079956055, -0.009689331, -0.021850586,
              0.011009216, -0.051757812, -0.037963867, 0.01222229, -0.07141113,
              0.030471802, -0.04147339, 0.024627686, -0.0013341904, 0.033172607,
              0.029815674, 0.04714966, 0.02116394, -0.026382446, -0.056610107,
              -0.019729614, -0.056793213, 0.021469116, -0.013839722,
              0.0029621124, 0.03125, -0.013160706, -0.0051956177, 0.011398315,
              -0.006275177, 0.0009469986, 0.03237915, -0.0066337585,
              0.032043457, 0.03878784, -0.0066070557, 0.039916992,
              -0.0076141357, -0.034179688, 0.01247406, -0.023330688, 0.01423645,
              -0.016464233, -0.03945923, -0.03237915, -0.010818481, -0.00592041,
              0.04925537, 0.010726929, -0.0049743652, 0.025024414, 0.01828003,
              0.057647705, 0.015098572, 0.005619049, 0.030059814, -0.008934021,
              0.005908966, 0.017440796, 0.0033493042, 0.049591064, -0.02960205,
              -0.0034179688, -0.02180481, -0.021652222, 0.012489319,
              -0.004688263, 0.0020446777, -0.029205322, 0.014404297,
              0.040252686, -0.05795288, -0.025314331, -0.06628418, -0.013374329,
              -0.009689331, 0.012512207, -0.024673462, -0.04751587, 0.03793335,
              -0.026138306, -0.029647827, 0.050689697, 0.025314331,
              -0.00081825256, -0.01737976, 0.019226074, 0.014175415,
              -0.014694214, 0.013763428, 0.015350342, -0.0385437, -0.03503418,
              0.028518677, 0.038024902, 0.027679443, 0.1439209, -0.05609131,
              -0.02420044, 0.021697998, -0.012161255, 0.008163452, 0.03289795,
              -0.030578613, 0.023925781, -0.057891846, -0.05154419,
              -0.013519287, 0.026046753, 0.027359009, -0.024215698,
              -0.018325806, -0.0096588135, 0.006755829, -0.027740479,
              -0.031097412, 0.024887085, -0.011100769, -0.035064697,
              0.018081665, -0.039611816, 0.037902832, 0.0105896, -0.037384033,
              0.072387695, 0.025222778, 0.06549072, -0.116882324, 0.037750244,
              -0.0007972717, -0.013130188, 0.017120361, -0.0020160675,
              0.01184082, -0.031143188, 0.022949219, -0.055877686, 0.025512695,
              -0.050598145, -0.029434204, -0.035095215, -0.019699097,
              -0.064575195, -0.120666504, 0.02293396, 0.007797241, 0.02709961,
              0.05935669, 0.07659912, 0.0074005127, 0.0736084, 0.048736572,
              0.059783936, -0.026947021, -0.045776367, 0.0116119385,
              -0.032989502, 0.004886627, -0.017852783, 0.0149383545, 0.01828003,
              -0.0008254051, 0.043945312, 0.034179688, -0.019241333,
              -0.027252197, -0.00041365623, 0.046844482, -0.009803772,
              -0.06542969, -0.0018873215, 0.055511475, 0.027694702,
              -0.021591187, -0.0022525787, 0.018798828, 0.017929077,
              0.009773254, 0.0014028549, 0.013496399, 0.04248047, 0.013656616,
              -0.028930664, 0.038208008, 0.025222778, -0.04663086, -0.04724121,
              -0.043914795, -0.03060913, 0.006088257, 0.028793335, 0.0041656494,
              -0.031234741, -0.023422241, 0.05050659, -0.0070648193,
              0.032226562, 0.016860962, 0.039398193, -0.013809204, 0.01574707,
              0.016601562, -0.010864258, 0.017730713, 0.00010985136,
              0.024795532, 0.058746338, 0.0029239655, 0.042144775, 0.063964844,
              0.0022659302, 0.025390625, -0.025482178, 0.048187256, 0.08105469,
              -0.009414673, -0.021255493, 0.04034424, 0.019332886, 0.001042366,
              0.049621582, 0.008544922, 0.022781372, -0.007423401, -0.027496338,
              0.035705566, 0.042266846, 0.034484863, -0.025115967, -0.022781372,
              -0.0423584, -0.008644104, -0.010322571, -0.0146102905,
              -0.03186035, 0.019424438, -0.03274536, -0.004638672, -0.029373169,
              -0.0036201477, -0.005504608, -0.031585693, 0.030456543,
              -0.053466797, -0.021362305, -0.04876709, -0.06640625, 0.03741455,
              -0.009376526, -0.05026245, 0.03967285, 0.013748169, -0.05355835,
              -0.025802612, -0.006652832, -0.06561279, -0.017791748,
              0.003780365, -0.015388489, -0.016311646, 0.034942627, -0.06185913,
              0.0023288727, 0.044281006, 0.0037231445, -0.017181396,
              -0.042236328, 0.046966553, 0.04232788, 0.0045814514, 0.022018433,
              0.02709961, -0.0463562, 0.019927979, -0.039886475, -0.0017290115,
              -0.007980347, -0.043151855, 0.007896423, 0.035064697, 0.02986145,
              0.03439331, 0.058654785, -0.025268555, -0.05633545, -0.020523071,
              -0.0076560974, -0.03375244, 0.02368164, 0.028808594, -0.045288086,
              0.037139893, 0.011917114, -0.0024375916, -0.041290283,
              -0.05657959, 0.0050964355, -0.0047302246, -0.0021209717,
              0.04284668, -0.02557373, 0.004322052, 0.015304565, -0.016494751,
              -0.014907837, -0.012107849, -0.033050537, 0.03970337, 0.01663208,
              -0.04248047, -0.0030574799, 0.030975342, 0.0010643005,
              -0.03579712, 0.025848389, -0.013435364, -0.0029277802, 0.02078247,
              0.044647217, -0.045654297, -0.029129028, -0.0027198792,
              -0.01586914, 0.026626587, 0.010040283, 0.025741577, -0.055023193,
              0.06112671, 0.004196167, -0.011375427, -0.030822754, 0.0032520294,
              0.005809784, -0.0069122314, -0.018188477, -0.0065460205,
              -0.033325195, 0.008705139, -0.023834229, 0.031021118, -0.02999878,
              0.009391785, -0.028930664, -0.0021686554, 0.011108398,
              -0.101989746, 0.041931152, -0.026672363, 0.033599854, 0.055786133,
              -0.019165039, -0.06329346, 0.0143966675, -0.0054512024,
              -0.030014038, -0.0016145706, -0.055267334, -0.010345459,
              -0.027908325, 0.007007599, 0.01361084, 0.02394104, 0.002735138,
              -0.024383545, 0.04928589, -0.0013303757, 0.000078737736,
              0.006778717, 0.010612488, 0.008811951, 0.004699707, 0.012046814,
              -0.009841919, 0.011810303, -0.00522995, -0.0088272095,
              -0.029815674, -0.015960693, -0.001991272, -0.04296875,
              0.030059814, 0.028457642, 0.024856567, 0.028305054, -0.0070648193,
              0.01637268, -0.00730896, -0.0026836395, -0.019042969,
              -0.024902344, 0.033813477, 0.021774292, -0.013793945, 0.020339966,
              0.02670288, 0.008575439, 0.05154419, 0.0071411133, -0.033233643,
              -0.016342163, -0.0023860931, 0.0039405823, -0.030914307,
              0.019989014, -0.008842468, -0.013336182, 0.007511139,
              -0.080322266, 0.070739746, -0.03451538, -0.05114746, 0.01486969,
              0.005680084, -0.0047683716, -0.070007324, 0.021331787, 0.0289917,
              0.00094747543, -0.024353027, 0.04626465, 0.049835205,
              -0.017425537, -0.002149582, -0.0014238358, 0.05026245,
              0.037078857, -0.013076782, 0.006378174, -0.0011816025,
              0.009315491, 0.014137268, -0.036956787, -0.024536133, 0.04788208,
              -0.0013074875, -0.036987305, -0.004383087, -0.0074539185,
              -0.07458496, -0.015838623, -0.005355835, 0.0019550323,
              0.033721924, -0.034057617, -0.0043754578, 0.024780273,
              0.0037117004, -0.013839722, 0.004711151, 0.00856781, -0.012962341,
              0.0012140274, 0.035705566, 0.0029144287, 0.006690979, 0.047180176,
              0.0209198, 0.028182983, 0.024963379, 0.005065918, 0.0713501,
              -0.016036987, -0.0022087097, -0.017303467, 0.009918213,
              -0.013092041, -0.0017375946, -0.004295349, -0.028717041,
              0.005142212, -0.024810791, 0.03302002, 0.008758545, 0.014564514,
              -0.017791748, 0.016098022, 0.04647827, -0.017440796, -0.040863037,
              0.013626099, -0.045715332, -0.031463623, 0.026229858,
              -0.0034809113, 0.020431519, 0.0040893555, 0.023483276, 0.03781128,
              0.056854248, -0.016693115, -0.00040221214, -0.051483154,
              -0.057250977, 0.033416748, -0.035186768, 0.037322998, -0.03189087,
              0.032592773, -0.007133484, -0.024917603, 0.01751709, 0.0021572113,
              -0.034576416, -0.0029563904, 0.08947754, 0.016540527, -0.08258057,
              0.0056037903, -0.030258179, 0.002937317, 0.0647583, -0.042663574,
              -0.016433716, 0.02671814, 0.055511475, 0.014564514, -0.0028495789,
              0.04928589, -0.056762695, 0.011131287, -0.014137268, 0.011474609,
              -0.009284973, -0.026138306, -0.019714355, 0.010772705,
              -0.06378174, -0.02168274, -0.020111084, 0.048797607, -0.03842163,
              0.00024020672, -0.032043457, -0.029510498, 0.026397705,
              0.046722412, -0.015571594, -0.0041656494, -0.06237793, 0.02671814,
              0.016189575, -0.012794495, -0.0065956116, -0.023269653,
              0.004890442, -0.033599854, 0.026824951, -0.037872314, 0.035003662,
              0.0056037903, -0.029830933, -0.0037155151, -0.025146484,
              0.042938232, -0.021514893, 0.005962372, -0.007255554, -0.03237915,
              0.046783447, -0.0017023087, -0.0027198792, -0.0073280334,
              -0.014701843, -0.012168884, 0.009101868, 0.012214661, 0.031188965,
              -0.017974854, -0.0064735413, 0.019836426, 0.014350891,
              -0.03338623, -0.005958557, 0.0033855438, 0.061950684,
              -0.057617188, -0.022827148, 0.029388428, 0.0003039837,
              0.036468506, -0.031402588, 0.002527237, -0.056488037, 0.031097412,
              0.016540527, 0.0592041, 0.0021591187, -0.0030269623, 0.0032176971,
              0.01727295, 0.017959595, 0.059387207, -0.005886078, -0.02645874,
              0.029220581, 0.023330688, 0.0023117065, 0.011726379, -0.008605957,
              0.001613617, -0.066833496, -0.07208252, 0.010864258, 0.059906006,
              -0.04736328, 0.019989014, 0.036987305, 0.028640747, 0.008529663,
              0.013710022, 0.021987915, -0.031341553, 0.023361206, 0.029724121,
              0.037139893, -0.0005450249, -0.0060195923, 0.027557373,
              0.041625977, -0.028442383, 0.03955078, -0.0046577454,
              -0.014915466, -0.035339355, -0.03955078, 0.020462036,
              0.0021743774, -0.020401001, -0.00040125847, 0.06866455,
              -0.004398346, -0.042266846,
            ],
            [
              -0.010871887, -0.0010499954, -0.01751709, 0.04159546,
              -0.005821228, 0.009925842, 0.037475586, -0.017944336,
              -0.024719238, -0.017807007, -0.020217896, -0.046569824,
              0.02722168, 0.0017175674, -0.00945282, -0.016693115,
              -0.0047454834, -0.0062713623, -0.024124146, -0.009002686,
              -0.0068130493, 0.019088745, 0.028152466, 0.009407043,
              -0.009986877, 0.030700684, 0.024902344, -0.014259338, 0.021728516,
              -0.026763916, -0.012779236, -0.009376526, 0.021118164, 0.06524658,
              -0.017211914, 0.023010254, 0.021972656, -0.016067505,
              -0.013038635, 0.03201294, 0.012031555, 0.010063171, 0.0076942444,
              0.029037476, -0.029769897, 0.0035648346, 0.003791809, 0.019363403,
              0.05670166, 0.04208374, 0.015991211, -0.02911377, 0.0019016266,
              0.03250122, 0.02670288, -0.022720337, 0.040924072, -0.021911621,
              0.036193848, -0.009666443, -0.021469116, -0.05633545,
              -0.015686035, -0.0037269592, -0.016204834, -0.002204895,
              0.029312134, 0.031219482, 0.032928467, 0.037109375, -0.007030487,
              0.050750732, 0.02760315, -0.005176544, -0.008880615, 0.007293701,
              -0.004131317, -0.01512146, -0.01675415, 0.030700684, 0.0011415482,
              0.025161743, 0.025863647, 0.014602661, 0.059814453, -0.013420105,
              0.019241333, 0.01802063, 0.017974854, -0.053131104, 0.03753662,
              0.0071105957, 0.04550171, 0.07006836, 0.0077781677, -0.017837524,
              0.04776001, -0.014663696, 0.008712769, -0.032043457, 0.0071411133,
              -0.024291992, -0.022094727, 0.022567749, 0.010932922, 0.013137817,
              0.004714966, -0.011459351, -0.016860962, 0.01777649, 0.0138168335,
              0.02470398, 0.035064697, -0.034942627, -0.04006958, 0.02407837,
              -0.006011963, -0.008087158, -0.03012085, -0.0019893646,
              -0.023391724, 0.02507019, -0.033111572, -0.027755737,
              -0.026016235, 0.036468506, 0.018249512, -0.010971069,
              -0.046173096, -0.026977539, -0.036315918, -0.023620605,
              -0.0032634735, 0.012466431, 0.017196655, -0.0042533875,
              -0.010276794, -0.05883789, 0.00440979, 0.027389526, -0.020004272,
              0.0513916, -0.039520264, 0.0017719269, -0.051116943, -0.013626099,
              0.0056037903, -0.017456055, -0.006187439, -0.06536865,
              0.024414062, 0.019973755, 0.029922485, -0.061950684,
              -0.0072784424, 0.020568848, 0.06555176, -0.009918213, 0.012374878,
              -0.043884277, 0.012641907, -0.046722412, 0.01638794, -0.017929077,
              -0.012702942, -0.051879883, 0.063964844, -0.0064888, 0.0028839111,
              0.0647583, 0.0055618286, -0.03173828, -0.019104004, -0.01802063,
              -0.0024757385, -0.03704834, -0.024414062, 0.07080078, 0.06781006,
              -0.060394287, 0.053222656, -0.012542725, 0.05670166, 0.063964844,
              0.07281494, -0.0057411194, -0.024780273, 0.026748657, 0.013656616,
              0.020370483, -0.038879395, -0.044799805, -0.024139404,
              -0.00983429, -0.024047852, 0.017852783, 0.03543091, -0.035125732,
              0.01940918, 0.05532837, 0.020126343, 0.012710571, 0.023544312,
              0.0317688, 0.010383606, 0.016021729, 0.04550171, 0.0016460419,
              -0.038330078, 0.04043579, -0.010765076, 0.01499939, 0.057617188,
              0.011459351, -0.011619568, -0.03326416, 0.006893158, -0.051727295,
              0.027496338, 0.023849487, 0.044921875, -0.008003235, 0.028366089,
              0.028869629, 0.023071289, -0.04345703, 0.020645142, -0.011138916,
              -0.019699097, -0.0064086914, 0.0107040405, -0.019561768,
              0.054504395, -0.034362793, 0.034973145, 0.022644043, -0.023391724,
              -0.031158447, -0.026031494, -0.033477783, 0.007686615,
              0.023513794, -0.024398804, -0.020568848, 0.05053711, -0.021331787,
              0.007423401, -0.0022583008, 0.07513428, -0.009239197,
              -0.0036735535, 0.05215454, -0.011795044, 0.03427124, 0.023788452,
              -0.026748657, 0.06915283, 0.054718018, 0.0018596649, 0.032440186,
              -0.038024902, -0.048187256, 0.008110046, -0.008155823,
              0.0109939575, 0.008087158, -0.005706787, -0.0032444, 0.034973145,
              0.0044021606, -0.022369385, -0.00050640106, -0.017150879,
              0.024749756, -0.0071983337, 0.042175293, -0.05783081, 0.026107788,
              -0.023117065, 0.05630493, 0.019546509, 0.005645752, 0.007972717,
              -0.023468018, -0.05026245, 0.017166138, -0.00035905838,
              0.018951416, -0.027450562, -0.013793945, 0.00005608797,
              -0.06933594, -0.0069236755, -0.0027675629, -0.022476196,
              0.0034770966, 0.028381348, -0.039367676, -0.030975342,
              0.034576416, -0.028839111, 0.026931763, 0.050231934, -0.015960693,
              0.03189087, 0.003929138, -0.018478394, 0.020187378, 0.032287598,
              -0.036956787, -0.0044898987, -0.0006785393, 0.0003633499,
              0.0036621094, -0.006160736, 0.0014333725, 0.01373291,
              -0.045318604, -0.0067481995, 0.044677734, 0.0019607544,
              -0.029144287, -0.00027680397, -0.0044822693, 0.003753662,
              -0.001742363, -0.0035533905, -0.019500732, 0.0041618347,
              0.05307007, 0.008728027, 0.040252686, 0.00920105, 0.024291992,
              0.029708862, 0.030685425, -0.016311646, -0.006504059, 0.034088135,
              -0.036621094, -0.005104065, -0.0026378632, 0.005607605,
              -0.00015115738, 0.04333496, -0.020523071, 0.009094238,
              -0.020965576, -0.011474609, -0.009231567, -0.0023880005,
              0.009986877, 0.01084137, 0.020935059, 0.07373047, -0.04724121,
              0.036712646, -0.03491211, 0.010955811, -0.04006958, 0.049621582,
              -0.051879883, -0.014091492, 0.03768921, 0.052246094, 0.056762695,
              -0.01423645, 0.030059814, -0.017211914, 0.018356323,
              -0.0033817291, 0.020690918, -0.0056495667, 0.010238647,
              -0.058288574, 0.007987976, -0.025848389, 0.030670166,
              -0.0009689331, 0.019012451, -0.049713135, 0.002948761,
              0.008483887, 0.030715942, 0.034606934, 0.008911133, 0.0014886856,
              -0.007511139, -0.005130768, 0.036254883, 0.08807373, 0.0038776398,
              0.058563232, 0.011581421, -0.011375427, -0.031707764,
              -0.029327393, 0.01322937, -0.051086426, -0.037597656,
              0.0077781677, -0.06536865, 0.033050537, -0.032928467, 0.025527954,
              -0.0008854866, 0.0473938, 0.027313232, 0.011497498, -0.017211914,
              0.009407043, -0.04071045, -0.04119873, -0.027694702,
              -0.0075035095, 0.0036258698, 0.022888184, 0.02406311, -0.03164673,
              -0.004085541, 0.011222839, -0.012023926, -0.016967773,
              0.011199951, -0.007926941, 0.025985718, 0.03213501, -0.012763977,
              0.042541504, 0.004020691, -0.022354126, 0.02909851, -0.0066871643,
              0.00315094, -0.017181396, -0.041046143, -0.009376526,
              -0.022323608, -0.0054740906, 0.027908325, 0.009933472,
              0.010009766, 0.018630981, 0.015686035, 0.059020996, 0.011222839,
              0.012069702, 0.029067993, 0.0011014938, -0.014976501, 0.026504517,
              0.0011329651, 0.018554688, -0.04727173, 0.006996155, -0.05432129,
              -0.0126953125, 0.031280518, 0.00017940998, 0.014808655,
              -0.020889282, 0.014373779, 0.0413208, -0.06939697, -0.054229736,
              -0.06213379, 0.008285522, -0.019622803, 0.003540039, -0.017120361,
              -0.032226562, 0.036254883, -0.033569336, -0.024261475,
              0.028762817, 0.018676758, -0.016494751, -0.0017719269, 0.03945923,
              0.022857666, -0.01940918, -0.007785797, 0.023605347, -0.010177612,
              -0.017349243, 0.023376465, 0.04232788, 0.0024642944, 0.12683105,
              -0.057128906, -0.040496826, 0.019485474, -0.031555176,
              0.013671875, -0.004322052, -0.04534912, 0.0256958, -0.06561279,
              -0.07373047, -0.0018167496, 0.008300781, 0.022888184,
              -0.023071289, -0.021728516, -0.007461548, 0.00085926056,
              -0.022125244, -0.039520264, 0.031143188, -0.017730713,
              -0.028030396, 0.013114929, -0.022216797, 0.039855957,
              -0.007865906, -0.005504608, 0.09313965, 0.01197052, 0.07366943,
              -0.09008789, 0.0026798248, -0.018844604, -0.029388428,
              0.010223389, 0.00945282, -0.013648987, -0.051361084, -0.015792847,
              -0.055725098, 0.029876709, -0.045440674, -0.043060303,
              -0.008605957, -0.034606934, -0.054748535, -0.12780762,
              0.029037476, 0.00504303, 0.043304443, 0.06732178, 0.07635498,
              -0.004333496, 0.07751465, 0.029403687, 0.05480957, -0.03439331,
              -0.04638672, -0.00013875961, -0.035461426, 0.021102905,
              -0.022842407, 0.00920105, 0.034454346, 0.017410278, 0.030166626,
              0.031433105, -0.01586914, -0.023269653, 0.014656067, 0.035003662,
              0.008651733, -0.030944824, -0.001865387, 0.0345459, 0.04156494,
              -0.024169922, 0.014953613, 0.012519836, 0.023742676,
              -0.0015039444, 0.0036754608, 0.013465881, 0.0287323, 0.008903503,
              -0.024475098, 0.034362793, 0.017501831, -0.03744507, -0.03363037,
              -0.023788452, -0.0025863647, 0.027954102, 0.037597656,
              -0.0049362183, -0.030395508, -0.025421143, 0.035003662,
              -0.011116028, 0.01361084, 0.004699707, 0.028381348, -0.029312134,
              0.02456665, 0.009674072, 0.004558563, 0.0046844482, -0.009788513,
              0.016906738, 0.052093506, 0.010017395, 0.002161026, 0.04638672,
              -0.0033931732, 0.041381836, 0.0057525635, 0.051696777,
              0.053588867, -0.010131836, -0.012557983, 0.017120361, 0.012321472,
              -0.010948181, 0.0317688, 0.011665344, 0.010635376, -0.014640808,
              -0.035827637, -0.0015964508, 0.055786133, 0.04711914,
              -0.021636963, -0.038360596, -0.027023315, 0.0008068085,
              -0.02798462, -0.010971069, -0.02368164, 0.006526947, -0.043945312,
              -0.010536194, -0.038116455, -0.016326904, -0.007820129,
              -0.020477295, 0.015335083, -0.012413025, -0.02053833, -0.05114746,
              -0.060333252, 0.0132369995, -0.006843567, -0.041168213,
              0.04623413, 0.01386261, -0.05114746, -0.030532837, -0.015213013,
              -0.06347656, -0.033599854, 0.0046195984, -0.0039596558,
              0.009391785, 0.06323242, -0.05734253, -0.0069999695, 0.025726318,
              -0.0028095245, -0.009048462, -0.041229248, 0.044830322,
              0.02859497, 0.004386902, 0.014564514, 0.033325195, -0.034332275,
              0.0087509155, -0.034454346, -0.020568848, -0.006465912,
              -0.03137207, 0.0070762634, 0.029342651, 0.026489258, 0.053955078,
              0.07397461, -0.0126953125, -0.082336426, -0.010437012,
              -0.003944397, -0.016998291, 0.019241333, 0.015823364,
              -0.048828125, 0.036315918, 0.013595581, -0.008407593,
              -0.053649902, -0.029953003, -0.0007677078, 0.008682251,
              0.0053367615, 0.0077667236, 0.016433716, -0.018707275,
              0.007835388, -0.0018596649, 0.0057258606, -0.00075626373,
              -0.041259766, 0.022888184, 0.022201538, -0.034240723,
              -0.008026123, 0.018310547, 0.0071525574, -0.036712646,
              0.030517578, -0.010284424, -0.0030574799, 0.021453857,
              0.046447754, -0.02218628, -0.03100586, 0.010749817, -0.021697998,
              0.015701294, 0.011222839, 0.034484863, -0.047912598, 0.04333496,
              -0.004371643, -0.02684021, -0.03189087, -0.024246216, 0.046966553,
              -0.02067566, 0.01259613, 0.014549255, -0.042907715, 0.020629883,
              -0.014640808, 0.05706787, -0.041412354, 0.022338867, -0.015716553,
              0.008544922, -0.012908936, -0.091308594, 0.06713867, -0.016311646,
              0.035461426, 0.040924072, -0.02116394, -0.038146973, 0.012466431,
              -0.003982544, -0.030227661, -0.008811951, -0.04333496,
              -0.013923645, -0.051574707, 0.0154953, 0.018325806, 0.0038414001,
              -0.0030879974, -0.038085938, 0.056915283, -0.0054092407,
              -0.007820129, 0.028686523, 0.013793945, 0.012321472, 0.019851685,
              -0.0029792786, -0.008178711, 0.010978699, 0.015731812,
              -0.0065078735, -0.035003662, -0.034484863, 0.020385742,
              -0.047943115, 0.02268982, 0.02204895, 0.00006514788, 0.0022258759,
              -0.019439697, -0.0037326813, -0.011459351, 0.0115356445,
              -0.04257202, -0.040527344, 0.039276123, -0.0027103424,
              -0.020111084, 0.025253296, 0.019744873, -0.0053100586,
              0.021835327, -0.009796143, -0.05456543, -0.0026340485,
              0.018203735, -0.0079422, -0.027450562, -0.00881958, -0.012390137,
              -0.04989624, 0.016433716, -0.08746338, 0.08807373, -0.036987305,
              -0.059753418, 0.0028533936, 0.0034103394, 0.0007109642,
              -0.06185913, 0.05050659, 0.0056381226, 0.02230835, -0.043640137,
              0.05706787, 0.011795044, -0.021072388, -0.0050735474,
              -0.000029087067, 0.044158936, 0.04663086, -0.028137207,
              0.01928711, 0.009719849, -0.000446558, 0.013931274, -0.03314209,
              -0.026153564, 0.06933594, 0.0014648438, -0.036499023, 0.014144897,
              -0.015235901, -0.13830566, -0.035491943, 0.0072364807,
              0.0028018951, 0.025665283, -0.017318726, -0.0074005127,
              0.028656006, 0.018814087, 0.009765625, 0.0068969727,
              -0.0025558472, 0.013320923, 0.01876831, 0.046691895, 0.017547607,
              -0.008010864, 0.075683594, 0.033599854, 0.033966064, 0.024475098,
              -0.0045547485, 0.06890869, -0.01626587, 0.011054993, -0.020996094,
              0.012969971, -0.011558533, -0.001411438, 0.009765625,
              0.00027799606, -0.0035076141, 0.0061187744, 0.028442383,
              -0.0032424927, -0.005317688, -0.025115967, -0.008964539,
              0.023544312, -0.029541016, -0.031173706, -0.007881165,
              -0.05545044, -0.04699707, 0.01637268, 0.01071167, 0.02986145,
              0.013549805, 0.03201294, 0.043640137, 0.091552734, -0.006263733,
              -0.0054779053, -0.038726807, -0.08642578, 0.0018348694,
              -0.020523071, 0.030899048, -0.027954102, -0.017333984,
              0.016326904, -0.012588501, 0.0067825317, 0.0206604, -0.029953003,
              -0.006664276, 0.06585693, 0.008796692, -0.07196045, -0.0033817291,
              -0.028839111, -0.023651123, 0.046295166, -0.032287598,
              -0.052764893, 0.025436401, 0.040283203, 0.010543823,
              -0.0045814514, 0.01134491, -0.03274536, -0.009841919,
              -0.022918701, 0.03050232, -0.028884888, 0.0033130646,
              -0.008598328, 0.0021533966, -0.03933716, -0.0008506775,
              -0.030715942, 0.07470703, -0.046417236, -0.009407043,
              -0.031097412, -0.0592041, 0.043670654, 0.055145264, -0.033203125,
              0.0049209595, -0.08428955, 0.025054932, 0.026641846, -0.020614624,
              -0.000060260296, -0.02116394, 0.007358551, -0.024520874,
              0.02949524, -0.02355957, 0.029632568, -0.0043258667, -0.033996582,
              -0.012458801, -0.019805908, 0.040039062, -0.022125244,
              -0.019226074, 0.0004892349, -0.025863647, 0.040161133,
              0.009223938, 0.013442993, -0.015609741, -0.02748108, 0.019821167,
              0.008995056, 0.015823364, 0.02722168, -0.033203125, -0.006942749,
              -0.012199402, 0.012245178, -0.035339355, 0.0060424805,
              -0.0016860962, 0.051818848, -0.05203247, -0.020889282,
              0.016296387, 0.0132751465, 0.015380859, -0.03250122,
              -0.0075950623, -0.045776367, 0.012565613, 0.018997192, 0.0546875,
              -0.014007568, 0.004890442, -0.007446289, 0.005153656, 0.017929077,
              0.053344727, 0.010437012, -0.029724121, 0.053588867, 0.011520386,
              0.010772705, -0.0022830963, -0.006511688, -0.0037250519,
              -0.050933838, -0.08300781, -0.0037899017, 0.07891846,
              -0.033996582, 0.019546509, 0.04751587, 0.03314209, 0.026641846,
              0.027313232, 0.012039185, -0.01966858, 0.020324707, 0.019210815,
              0.03289795, 0.0015830994, 0.0019721985, 0.021347046, 0.046203613,
              -0.010231018, 0.028656006, -0.0059394836, -0.011947632,
              -0.044769287, -0.037872314, 0.014259338, 0.006587982,
              -0.018615723, -0.020629883, 0.07763672, -0.0065193176,
              -0.03439331,
            ],
          ],
        },
        meta: {
          api_version: {
            version: '2',
          },
          billed_units: {
            input_tokens: 2,
          },
        },
        response_type: 'embeddings_by_type',
      })
    )
    const response = await generateEmbeddingsCohere(
      {
        model: 'embed-multilingual-v3.0',
        texts: ['A', 'B'],
        input_type: 'classification',
        embedding_types: ['float'],
      },
      '4f96e8e5-a2ec-4650-948f-6ea0fdc1626b'
    )
    expect(fetchMock).toBeCalledWith('https://api.cohere.com/v2/embed', {
      headers: {
        'content-type': 'application/json',
        'user-agent': 'truto',
        accept: 'application/json',
        Authorization: 'Bearer 4f96e8e5-a2ec-4650-948f-6ea0fdc1626b',
      },
      method: 'POST',
      body: '{"model":"embed-multilingual-v3.0","texts":["A","B"],"input_type":"classification","embedding_types":["float"]}',
    })
    console.log(response)
    expect(response).toHaveProperty(
      '0.id',
      'c7fdd028-d967-456a-9765-be47a7959f7e'
    )
  })
})
